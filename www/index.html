<html>

<head>
  <script src="node_modules/systemjs/dist/system.js"></script>
  <script src="node_modules/typescript/lib/typescript.js"></script>
  <script>
    // set our baseURL reference path
    SystemJS.config({
      baseURL: '/~nomaed/3denj',
      transpiler: 'typescript',
      packages: {
        src: {
          defaultExtension: 'ts'
        }
      }
    });

    let sysApp;
    // loads /js/main.js
    SystemJS
      .import('src/main.ts')
      .then(app => {
        sysApp = app;
        app.Main(document.getElementById('cnv'))
      })
      .catch(e => console.error(e));

    function stopAnimation() {
      sysApp.stop();
    }
  </script>
  <style>
    body {
      background-color: #ddd;
    }

    canvas {
      background-color: white;
      border: 1px solid #888;
    }
  </style>
</head>

<body>
  <div>
    <button onClick="stopAnimation()">Stop</button>
  </div>

  <div>
  <canvas id="cnv" width="800" height="600"></canvas>
  </div>

  <div>
    <input id="cam-dist" type="range" min="0" max="1000" defaultValue="200" onChange="sysApp.updateDist()" style="width: 800px"/>
  </div>

</body>

</html>
